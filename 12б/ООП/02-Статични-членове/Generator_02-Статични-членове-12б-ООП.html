<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Статични членове на клас — 12б, ООП</title>
    <style>
        body {
            font-family: 'DejaVu Serif', 'Times New Roman', serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #fd7e14;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            border-left: 4px solid #fd7e14;
            padding-left: 15px;
            margin-top: 30px;
        }
        
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
        
        ul {
            margin: 15px 0;
        }
        
        li {
            margin: 8px 0;
        }
        
        code {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        pre {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            margin: 15px 0;
            font-size: 14px;
            line-height: 1.4;
        }
        
        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        
        .example {
            background-color: #e8f5e8;
            padding: 15px;
            border-left: 4px solid #28a745;
            margin: 15px 0;
        }
        
        .important {
            background-color: #f8d7da;
            padding: 15px;
            border-left: 4px solid #dc3545;
            margin: 15px 0;
        }
        
        .config {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #2196f3;
            margin: 15px 0;
        }
        
        .patterns {
            background-color: #f3e5f5;
            padding: 15px;
            border-left: 4px solid #9c27b0;
            margin: 15px 0;
        }
        
        .security {
            background-color: #ffebee;
            padding: 15px;
            border-left: 4px solid #f44336;
            margin: 15px 0;
        }
        
        strong {
            color: #2c3e50;
        }
        
        .section-number {
            color: #fd7e14;
            font-weight: bold;
        }
        
        .format-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .format-card {
            background-color: #f8f9fa;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }
        
        .format-card h4 {
            color: #fd7e14;
            margin-top: 0;
        }
        
        @media print {
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
                padding: 0;
            }
            .format-comparison {
                display: block;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Статични членове на клас — 12б, ООП</h1>

        <h2><span class="section-number">1. Увод</span></h2>
        <div class="important">
            <p>Статичните членове принадлежат на класа, а не на конкретна инстанция. Те се споделят между всички обекти от дадения клас и могат да се използват без да се създава обект.</p>
        </div>

        <h2><span class="section-number">2. Основни характеристики</span></h2>
        <div class="config">
            <h4>Статичните членове:</h4>
            <ul>
                <li><strong>Принадлежат на класа</strong> - не на инстанцията</li>
                <li><strong>Споделени</strong> - една копия за всички обекти</li>
                <li><strong>Достъпни без обект</strong> - чрез името на класа</li>
                <li><strong>Инициализират се веднъж</strong> - при първото използване</li>
                <li><strong>Живеят през цялата програма</strong> - до нейното завършване</li>
            </ul>
        </div>

        <h2><span class="section-number">3. Статични полета</span></h2>
        
        <div class="config">
            <h4>Характеристики на статичните полета:</h4>
            <ul>
                <li><strong>Една копия</strong> - за всички инстанции</li>
                <li><strong>Инициализация</strong> - при първото използване</li>
                <li><strong>Достъп</strong> - чрез името на класа</li>
                <li><strong>Живот</strong> - през цялата програма</li>
            </ul>
        </div>

        <div class="example">
            <h4>Пример с статични полета:</h4>
            <pre><code>class Student {
    // Обикновени полета (за всяка инстанция)
    public string name;
    public int age;
    
    // Статично поле (споделено за всички)
    public static int totalStudents = 0;
    public static string schoolName = "Добротворно училище";
    
    // Константа (статична по природа)
    public const int MAX_AGE = 25;
    
    // Readonly статично поле
    public static readonly DateTime schoolFounded = new DateTime(1990, 9, 15);
    
    public Student(string name, int age) {
        this.name = name;
        this.age = age;
        totalStudents++; // Увеличаваме брояча
    }
    
    public void DisplayInfo() {
        Console.WriteLine($"Име: {name}, Възраст: {age}");
        Console.WriteLine($"Общо студенти: {totalStudents}");
        Console.WriteLine($"Училище: {schoolName}");
    }
}

// Използване
Student student1 = new Student("Иван", 18);
Student student2 = new Student("Мария", 19);

Console.WriteLine($"Общо студенти: {Student.totalStudents}");
Console.WriteLine($"Училище: {Student.schoolName}");
Console.WriteLine($"Максимална възраст: {Student.MAX_AGE}");</code></pre>
        </div>

        <h2><span class="section-number">4. Статични методи</span></h2>
        
        <div class="config">
            <h4>Характеристики на статичните методи:</h4>
            <ul>
                <li><strong>Извикват се без обект</strong> - чрез името на класа</li>
                <li><strong>Нямат достъп до this</strong> - не могат да използват инстанционни членове</li>
                <li><strong>Могат да използват статични членове</strong> - полета и методи</li>
                <li><strong>Утилитарни функции</strong> - често се използват за помощни операции</li>
            </ul>
        </div>

        <div class="example">
            <h4>Пример с статични методи:</h4>
            <pre><code>class MathHelper {
    // Статично поле
    private static int operationCount = 0;
    
    // Статичен метод
    public static double CalculateCircleArea(double radius) {
        operationCount++;
        return Math.PI * radius * radius;
    }
    
    public static double CalculateRectangleArea(double width, double height) {
        operationCount++;
        return width * height;
    }
    
    public static double CalculateTriangleArea(double base, double height) {
        operationCount++;
        return 0.5 * base * height;
    }
    
    // Статичен метод за валидация
    public static bool IsValidNumber(double number) {
        return !double.IsNaN(number) && !double.IsInfinity(number);
    }
    
    // Статично свойство
    public static int OperationCount {
        get { return operationCount; }
    }
    
    // Статичен метод за нулиране
    public static void ResetCounter() {
        operationCount = 0;
    }
}

// Използване
double circleArea = MathHelper.CalculateCircleArea(5);
double rectangleArea = MathHelper.CalculateRectangleArea(4, 6);
double triangleArea = MathHelper.CalculateTriangleArea(3, 4);

Console.WriteLine($"Кръг: {circleArea:F2}");
Console.WriteLine($"Правоъгълник: {rectangleArea:F2}");
Console.WriteLine($"Триъгълник: {triangleArea:F2}");
Console.WriteLine($"Извършени операции: {MathHelper.OperationCount}");</code></pre>
        </div>

        <h2><span class="section-number">5. Статичен конструктор</span></h2>
        
        <div class="config">
            <h4>Характеристики на статичния конструктор:</h4>
            <ul>
                <li><strong>Извиква се автоматично</strong> - при първото използване на класа</li>
                <li><strong>Без параметри</strong> - не може да приема аргументи</li>
                <li><strong>Единствен</strong> - може да има само един статичен конструктор</li>
                <li><strong>Инициализация</strong> - за статични полета</li>
            </ul>
        </div>

        <div class="example">
            <h4>Пример с статичен конструктор:</h4>
            <pre><code>class DatabaseManager {
    // Статични полета
    private static string connectionString;
    private static bool isInitialized;
    private static DateTime lastConnection;
    
    // Статичен конструктор
    static DatabaseManager() {
        Console.WriteLine("Инициализиране на базата данни...");
        connectionString = "Server=localhost;Database=SchoolDB;Trusted_Connection=true;";
        isInitialized = true;
        lastConnection = DateTime.Now;
        Console.WriteLine("Базата данни е готова за използване");
    }
    
    // Статични методи
    public static bool Connect() {
        if (!isInitialized) {
            Console.WriteLine("Базата данни не е инициализирана!");
            return false;
        }
        
        Console.WriteLine("Свързване с базата данни...");
        lastConnection = DateTime.Now;
        return true;
    }
    
    public static void Disconnect() {
        Console.WriteLine("Прекъсване на връзката с базата данни");
    }
    
    public static string GetConnectionString() {
        return connectionString;
    }
    
    public static DateTime GetLastConnection() {
        return lastConnection;
    }
}

// Използване - статичният конструктор се извиква автоматично
bool connected = DatabaseManager.Connect();
Console.WriteLine($"Връзката е: {(connected ? "Успешна" : "Неуспешна")}");
Console.WriteLine($"Последна връзка: {DatabaseManager.GetLastConnection()}");</code></pre>
        </div>

        <h2><span class="section-number">6. Статични класове</span></h2>
        
        <div class="config">
            <h4>Характеристики на статичните класове:</h4>
            <ul>
                <li><strong>Не могат да се инстанцират</strong> - не може да се създават обекти</li>
                <li><strong>Съдържат само статични членове</strong> - полета, свойства, методи</li>
                <li><strong>Не могат да се наследяват</strong> - sealed по природа</li>
                <li><strong>Утилитарни класове</strong> - за помощни функции</li>
            </ul>
        </div>

        <div class="example">
            <h4>Пример с статичен клас:</h4>
            <pre><code>public static class StringHelper {
    // Статични константи
    public const string DEFAULT_SEPARATOR = ", ";
    public const int MAX_LENGTH = 1000;
    
    // Статични методи
    public static string Reverse(string input) {
        if (string.IsNullOrEmpty(input)) return string.Empty;
        
        char[] chars = input.ToCharArray();
        Array.Reverse(chars);
        return new string(chars);
    }
    
    public static string CapitalizeFirst(string input) {
        if (string.IsNullOrEmpty(input)) return string.Empty;
        
        return char.ToUpper(input[0]) + input.Substring(1).ToLower();
    }
    
    public static string RemoveSpaces(string input) {
        if (string.IsNullOrEmpty(input)) return string.Empty;
        
        return input.Replace(" ", "");
    }
    
    public static bool IsPalindrome(string input) {
        if (string.IsNullOrEmpty(input)) return false;
        
        string cleaned = RemoveSpaces(input.ToLower());
        string reversed = Reverse(cleaned);
        
        return cleaned == reversed;
    }
    
    public static string[] SplitWords(string input) {
        if (string.IsNullOrEmpty(input)) return new string[0];
        
        return input.Split(new char[] { ' ', '\t', '\n', '\r' }, 
                          StringSplitOptions.RemoveEmptyEntries);
    }
    
    public static string JoinWords(string[] words, string separator = DEFAULT_SEPARATOR) {
        if (words == null || words.Length == 0) return string.Empty;
        
        return string.Join(separator, words);
    }
}

// Използване
string text = "Hello World";
Console.WriteLine($"Оригинал: {text}");
Console.WriteLine($"Обърнат: {StringHelper.Reverse(text)}");
Console.WriteLine($"С главна буква: {StringHelper.CapitalizeFirst(text)}");
Console.WriteLine($"Без интервали: {StringHelper.RemoveSpaces(text)}");

string[] words = StringHelper.SplitWords("This is a test");
string joined = StringHelper.JoinWords(words);
Console.WriteLine($"Свързани: {joined}");</code></pre>
        </div>

        <h2><span class="section-number">7. Пълен пример - Статичен клас за валидация</span></h2>
        
        <div class="highlight">
            <h4>Реален пример с всички статични членове:</h4>
            <pre><code>public static class Validator {
    // Статични константи
    public const int MIN_PASSWORD_LENGTH = 8;
    public const int MAX_EMAIL_LENGTH = 100;
    public const int MIN_AGE = 0;
    public const int MAX_AGE = 150;
    
    // Статични полета
    private static int validationCount = 0;
    private static List<string> validationErrors = new List<string>();
    
    // Статичен конструктор
    static Validator() {
        Console.WriteLine("Validator системата е инициализирана");
        validationErrors.Clear();
    }
    
    // Статични свойства
    public static int ValidationCount {
        get { return validationCount; }
    }
    
    public static List<string> Errors {
        get { return new List<string>(validationErrors); }
    }
    
    // Статични методи за валидация
    public static bool IsValidEmail(string email) {
        validationCount++;
        validationErrors.Clear();
        
        if (string.IsNullOrEmpty(email)) {
            validationErrors.Add("Email не може да бъде празен");
            return false;
        }
        
        if (email.Length > MAX_EMAIL_LENGTH) {
            validationErrors.Add($"Email не може да бъде по-дълъг от {MAX_EMAIL_LENGTH} символа");
            return false;
        }
        
        if (!email.Contains("@")) {
            validationErrors.Add("Email трябва да съдържа @");
            return false;
        }
        
        if (!email.Contains(".")) {
            validationErrors.Add("Email трябва да съдържа точка");
            return false;
        }
        
        return true;
    }
    
    public static bool IsValidPassword(string password) {
        validationCount++;
        validationErrors.Clear();
        
        if (string.IsNullOrEmpty(password)) {
            validationErrors.Add("Паролата не може да бъде празна");
            return false;
        }
        
        if (password.Length < MIN_PASSWORD_LENGTH) {
            validationErrors.Add($"Паролата трябва да бъде поне {MIN_PASSWORD_LENGTH} символа");
            return false;
        }
        
        if (!password.Any(char.IsUpper)) {
            validationErrors.Add("Паролата трябва да съдържа поне една главна буква");
            return false;
        }
        
        if (!password.Any(char.IsLower)) {
            validationErrors.Add("Паролата трябва да съдържа поне една малка буква");
            return false;
        }
        
        if (!password.Any(char.IsDigit)) {
            validationErrors.Add("Паролата трябва да съдържа поне една цифра");
            return false;
        }
        
        return true;
    }
    
    public static bool IsValidAge(int age) {
        validationCount++;
        validationErrors.Clear();
        
        if (age < MIN_AGE) {
            validationErrors.Add($"Възрастта не може да бъде по-малка от {MIN_AGE}");
            return false;
        }
        
        if (age > MAX_AGE) {
            validationErrors.Add($"Възрастта не може да бъде по-голяма от {MAX_AGE}");
            return false;
        }
        
        return true;
    }
    
    public static bool IsValidPhone(string phone) {
        validationCount++;
        validationErrors.Clear();
        
        if (string.IsNullOrEmpty(phone)) {
            validationErrors.Add("Телефонът не може да бъде празен");
            return false;
        }
        
        // Премахваме всички символи освен цифри
        string cleanPhone = new string(phone.Where(char.IsDigit).ToArray());
        
        if (cleanPhone.Length != 10) {
            validationErrors.Add("Телефонът трябва да съдържа точно 10 цифри");
            return false;
        }
        
        if (!cleanPhone.StartsWith("0")) {
            validationErrors.Add("Телефонът трябва да започва с 0");
            return false;
        }
        
        return true;
    }
    
    // Статичен метод за показване на грешки
    public static void DisplayErrors() {
        if (validationErrors.Count > 0) {
            Console.WriteLine("Грешки при валидация:");
            foreach (string error in validationErrors) {
                Console.WriteLine($"- {error}");
            }
        } else {
            Console.WriteLine("Няма грешки при валидация");
        }
    }
    
    // Статичен метод за нулиране
    public static void Reset() {
        validationCount = 0;
        validationErrors.Clear();
        Console.WriteLine("Validator системата е нулирана");
    }
}

// Използване
Console.WriteLine("=== Тестване на Validator ===");

// Тестване на email
bool validEmail = Validator.IsValidEmail("user@example.com");
Console.WriteLine($"Email валиден: {validEmail}");
if (!validEmail) Validator.DisplayErrors();

// Тестване на парола
bool validPassword = Validator.IsValidPassword("MyPass123");
Console.WriteLine($"Парола валидна: {validPassword}");
if (!validPassword) Validator.DisplayErrors();

// Тестване на възраст
bool validAge = Validator.IsValidAge(25);
Console.WriteLine($"Възраст валидна: {validAge}");

// Тестване на телефон
bool validPhone = Validator.IsValidPhone("0888123456");
Console.WriteLine($"Телефон валиден: {validPhone}");

Console.WriteLine($"Общо валидации: {Validator.ValidationCount}");</code></pre>
        </div>

        <h2><span class="section-number">8. Разлика между статични и инстанционни членове</span></h2>
        
        <div class="format-comparison">
            <div class="format-card">
                <h4>Статични членове</h4>
                <ul>
                    <li>Принадлежат на класа</li>
                    <li>Една копия за всички обекти</li>
                    <li>Достъпни без обект</li>
                    <li>Използват <code>static</code> ключова дума</li>
                    <li>Живеят през цялата програма</li>
                </ul>
            </div>
            <div class="format-card">
                <h4>Инстанционни членове</h4>
                <ul>
                    <li>Принадлежат на обекта</li>
                    <li>Отделна копия за всеки обект</li>
                    <li>Достъпни чрез обект</li>
                    <li>Без <code>static</code> ключова дума</li>
                    <li>Живеят докато обектът съществува</li>
                </ul>
            </div>
        </div>

        <h2><span class="section-number">9. Практически задачи</span></h2>
        <div class="highlight">
            <h4>Задачи за упражнение:</h4>
            <ul>
                <li><strong>Създай статичен клас Calculator</strong> с методи за основни математически операции</li>
                <li><strong>Имплементирай статичен клас FileHelper</strong> за работа с файлове</li>
                <li><strong>Създай клас с статичен брояч</strong> за проследяване на създадените обекти</li>
                <li><strong>Направи статичен клас Logger</strong> за записване на съобщения</li>
                <li><strong>Имплементирай статичен клас RandomHelper</strong> за генериране на случайни числа</li>
            </ul>
        </div>

        <h2><span class="section-number">10. Заключение</span></h2>
        <div class="important">
            <p>Статичните членове са мощна функционалност в C#, която ни позволява да създаваме утилитарни функции и да споделяме данни между всички инстанции на клас.</p>
        </div>

        <div class="patterns">
            <h4>Ключови принципи:</h4>
            <ul>
                <li><strong>Споделяне на данни</strong> - една копия за всички обекти</li>
                <li><strong>Утилитарни функции</strong> - помощни методи без нужда от обект</li>
                <li><strong>Инициализация</strong> - статичен конструктор за подготовка</li>
                <li><strong>Константи</strong> - неизменяеми стойности</li>
                <li><strong>Производителност</strong> - по-бърз достъп без създаване на обект</li>
            </ul>
        </div>
    </div>
</body>
</html>
