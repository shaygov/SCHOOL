#!/bin/bash

echo "=== C# ООП Примери за 12 клас ==="
echo "Изберете урок за изпълнение:"
echo "1. Дефиниране на класове"
echo "2. Статични членове"
echo "3. Наследяване на класове"
echo "4. Абстракция и абстрактни класове"
echo "5. Интерфейси"
echo "6. Изпълни всички примери"
echo "0. Изход"
echo

read -p "Въведете номер (0-6): " choice

case $choice in
    1)
        echo "=== Урок 1: Дефиниране на класове ==="
        cd "01-Дефиниране-на-класове/Примери"
        echo "Изпълнение с dotnet..."
        dotnet run
        cd ../..
        ;;
    2)
        echo "=== Урок 2: Статични членове ==="
        cd "02-Статични-членове/Примери"
        echo "Изпълнение с dotnet..."
        dotnet run
        cd ../..
        ;;
    3)
        echo "=== Урок 3: Наследяване на класове ==="
        cd "03-Наследяване-на-класове/Примери"
        echo "Изпълнение с dotnet..."
        dotnet run
        cd ../..
        ;;
    4)
        echo "=== Урок 4: Абстракция и абстрактни класове ==="
        cd "04-Абстракция-и-абстрактни-класове/Примери"
        echo "Изпълнение с dotnet..."
        dotnet run
        cd ../..
        ;;
    5)
        echo "=== Урок 5: Интерфейси ==="
        cd "05-Интерфейси/Примери"
        echo "Изпълнение с dotnet..."
        dotnet run
        cd ../..
        ;;
    6)
        echo "=== Изпълнение на всички примери ==="
        for dir in */; do
            if [ -d "$dir" ] && [ -d "$dir/Примери" ]; then
                echo "=== $(basename "$dir") ==="
                cd "$dir/Примери"
                if [ -f "Program.cs" ]; then
                    echo "Изпълнение с dotnet..."
                    if dotnet run; then
                        echo "✅ Успешно изпълнение!"
                    else
                        echo "❌ Грешка при изпълнение!"
                    fi
                    echo
                fi
                cd ../..
                echo "----------------------------------------"
            fi
        done
        ;;
    0)
        echo "Довиждане!"
        exit 0
        ;;
    *)
        echo "Невалиден избор!"
        ;;
esac

echo
read -p "Натиснете Enter за връщане в менюто..." 
exec "$0"
